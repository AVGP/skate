<!DOCTYPE html>
<html lang="en">
  <head>
    <title>SkateJS</title>
    <link rel="stylesheet/less" href="less/main.less">
    <link rel="stylesheet" href="bower_components/highlightjs/styles/monokai.css">
    <script src="bower_components/less/dist/less-1.6.2.js"></script>
    <script src="bower_components/highlightjs/highlight.pack.js"></script>
    <script src="bower_components/requirejs/require.js" data-main="js/main"></script>
  </head>
  <body>
    <a href="https://github.com/treshugart/skate"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"></a>
    <header class="main">
      <div class="container-fluid">
        <h1>Skate <a href="https://travis-ci.org/treshugart/skate"><img src="https://travis-ci.org/treshugart/skate.png?branch=master"></a></h1>
        <p>Skate is a web component library that allows you to define behaviour for pre-defined and custom HTML elements.</p>
      </div>
    </header>

    <div class="container-fluid">
      <ul class="col-md-3 skate-toc"></ul>
      <section class="col-md-9">
        <h2 skate-heading-link skate-toc-item>WTF?</h2>
        <p>Skate is a web component library that allows you to define behaviour for elements without worrying about when that element is inserted into the DOM.</p>
        <skate-code title="HTML">
          <my-component></my-component>
        </skate-code>
        <skate-code lang="javascript" title="JavaScript">
          skate('my-component', function(element) {
            element.textContent = 'Hello, World!';
          });
        </skate-code>
        <skate-output title="Output">
          Hello, World!
        </skate-output>


        <h2 skate-heading-link skate-toc-item id="heading-installing">Installing</h2>
        <p>You can install Skate using <a is="skate-external-link" href="http://bower.io/">Bower</a> or by downloading the source from the <a skate-external-link href="https://github.com/treshugart/skate">repository</a>.</p>
        <skate-code lang="bash">
          bower install skate
        </skate-code>


        <h3 skate-heading-link id="heading-installing-amd">AMD</h3>
        <p>Skate supports AMD if detected and is registered as <code>skate</code>. You must ensure that when you <code>require(['skate'])</code> that you have pointed that module to the correct path. In RequireJS you would use the <code>paths</code> configuration option:</p>
        <skate-code lang="javascript">
          require.config({
            paths: {
              skate: 'bower_components/skate/dist/skate'
            }
          });
        </skate-code>


        <h3 skate-heading-link id="heading-installing-global">Global</h3>
        <p>If you're still skating old school, we've got you covered. Just make sure skate is included on the page and you can access it via <code>window.skate</code>.</p>


        <h2 skate-heading-link skate-toc-item id="heading-usage">Usage</h2>
        <p>Skate revolves around three binding methods - in the following order - that the component id (first argument to <skate-snippet lang="javascript">skate()</skate-snippet>) will attempt to find on an element:</p>
        <ol>
          <li>Tags <skate-snippet><my-component></my-component></skate-snippet></li>
          <li>Attributes <skate-snippet><div my-component></div></skate-snippet></li>
          <li>Classes <skate-snippet><div class="my-component"></div></skate-snippet></li>
        </ol>

        <p>Once a component is matched it doesn't look for any other methods in which it could be matched. This means that if a tag is matched, it won't look for an attribute or class name. The same goes for if an attribute is matched, it will not look for a class name.</p>


        <h3 skate-heading-link>Binding Restrictions</h3>
        <p>It is up to the consumer to opt-in to using a component using one of the binding methods. The onus is on the developer of the component to document and place restrictions on how that component is designed to be used.</p>
        <p>For example, a component developer can restrict a component to be bound using a custom element and if that element is bound otherwise, an exception will be raised. Binding restrictions are passed as an option using the second argument to the <skate-snippet lang="javascript">skate()</skate-snippet> function. The following component would be restricted to be bound via a tag name:</p>
        <skate-code lang="javascript">
          skate('my-component', {
            type: skate.types.TAG
          });
        </skate-code>
        <p>There are five different types of components:</p>
        <ul>
          <li><skate-snippet lang="javascript">skate.types.ANY</skate-snippet> Allows any type of binding.</li>
          <li><skate-snippet lang="javascript">skate.types.ATTR</skate-snippet> Allows binding only via an attribute name.</li>
          <li><skate-snippet lang="javascript">skate.types.CLASS</skate-snippet> Allows binding only via a class name.</li>
          <li><skate-snippet lang="javascript">skate.types.NOTAG</skate-snippet> Allows both attribute and class binding, but not tag binding.</li>
          <li><skate-snippet lang="javascript">skate.types.TAG</skate-snippet> Allows only binding through custom tags.</li>
        </ul>
        <p>It's important to note, that using the <skate-snippet lang="javascript">TAG</skate-snippet> restriction type will ensure that no other component can be bound to that element since you can only have one tag name. This eliminates any ambiguity that would be introduced by having multiple components bound to an element.</p>
        <p>On the other hand, attribute and class binding methods allow multiple components to be bound. This is usefule when you want to do multiple things when a particular element is created. For example, this page binds binds two components to some headings. One to create a link from the heading and the other to add it to the table of contents:</p>
        <skate-code lang="html">
          &lt;h2 skate-heading-link skate-toc-item id="heading-usage"&gt;
        </skate-code>


        <h3 skate-heading-link>Lifecycle Callbacks</h3>
        <p>There are three callbacks that get called during the lifecycle of an element:</p>
        <ul>
          <li><skate-snippet lang="javascript">ready</skate-snippet> called before the element is shown in the DOM.</li>
          <li><skate-snippet lang="javascript">insert</skate-snippet> called after the element is shown in the DOM.</li>
          <li><skate-snippet lang="javascript">remove</skate-snippet> called when the element is removed from the DOM.</li>
        </ul>
        <p>If you remember the first example at the top, it passes a function as the second argument:</p>
        <skate-code lang="javascript">
          skate('my-component', function(element) {
            element.textContent = 'Hello, World!';
          });
        </skate-code>
        <p>By default, that function is translated into:</p>
        <skate-code>
          skate('my-component', {
            insert: function(element) {
              element.textContent = 'Hello, World!';
            }
          });
        </skate-code>
        <p>If you wanted to modify this element before it's shown, you'd instead pass the function as the <skate-snippet lang="javascript">ready</skate-snippet> callback:</p>
        <skate-code>
          skate('my-component', {
            ready: function(element) {
              element.textContent = 'Hello, World!';
            }
          });
        </skate-code>
        <p>Doing so would ensure that your element is transformed before the user sees it which is good practice if you're modifying an element's content.</p>
      </section>
    </div>

    <footer>
      <div class="container">
        Made with <i skate-icon="heart"></i> by <a skate-external-link href="http://treshugart.github.io">Trey Shugart</a>
      </div>
    </footer>
  </body>
</html>
